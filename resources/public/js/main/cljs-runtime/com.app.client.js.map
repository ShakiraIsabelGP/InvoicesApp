{"version":3,"sources":["com/app/client.cljs"],"mappings":";AAuBA,GAAA,QAAAA,gCAAAC,oCAAAC,2CAAAC;AAAA;AAAA,AAAA,AAASC,mCACA,8CAAA,2CAAA,kEAAA,3JAACC;;AAEV,AAAA;;;AAAAC,2BAAA,AAAAC,+CAAA,AAAA;;AAAA,AAAAC,oFAAA,AAAA,+FAAA,WAAAC;AAAA,AAAA,QAAA,AAAA,sFAAA,AAAA,iFAAAA,3KACGc;AADH,AAAA,kDAAA,yDAAA,gCAAAb;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;UAAA,AAAAE,4CAAAF,eAAA,jEAEmBa;AAFnB,AAAA,IAAAV,iDAAAC;IAAAC,iDAAA;AAAA,AAAA,CAAAD,iEAAAC;;AAAA,IAAA,AAGU,IAAMS,kBAAU,AAACC,uDAA0BF;AAA3C,AACE,GAAI,AAACG,uBAAOF;AACV,oGAAA,pGAACG,yEAAkBJ,IAAIK;;AACvB,yFAAA,zFAACC,8DAAqBN,IAAIK;;UANxC,AAAA,CAAAd,iEAAAD;;AAAA;GAAA,wEAAA,WAAAG;AAAA,AAAA,IAAAC,2CAAAH;IAAAI,2CAAA;AAAA,AAAA,CAAAJ,iEAAAI;;AAAA,IAAA,AAAA,IAAAC,qBAAA,AAAAC,uDAAA,AAAA,iFAAAJ,KAAA;AAAA,AAAA,oBAAAG;AAAA,AAAA,IAAAE,iBAAAF;AAAA,AAAA,QAAAE,+CAAAA,6CAAAL,OAAAK,yBAAAL;;AAAA;;UAAA,AAAA,CAAAF,iEAAAG;;;AAQA,2BAAA,3BAAMa,8DAAWP;AAAjB,AACE,AAACQ,0DAA6BR,IAAIS;;AAClC,8DAAA,4DAAA,nHAACC,mDAA0BV,mIAA0B,WAAKD,EAAEY;AAAP,AAAc,oBAAIA;AAAJ;;AAAA;;;;AAErE,GAAA,QAAAnC,gCAAAC,oCAAAC,2CAAAkC;AAAA;AAAA,AAAA,AAASC,mUAAQ,+CAAA,/CAACC,pDACD,AAACC,pHACD,AAACC,tIACD,mYAAA,iFAAA,pdAACC;;AAElB,yBAAA,zBAAMC;AAAN,AACE,AAACX,yBAAUM;;AACX,AAACM,8FAA8BN;;AAC/B,OAACO,2DAAuBP;;AAE1B,sBAAA,tBAAMQ;AAAN,AACE,mCAAA,2CAAA,iIAAA,+DAAA,2CAAA,zTAACC,6IAA8BC,uOACU,AAACC;;AAC1C,AAAAC,0DAAAC,mCAAA,qDAAA,iBAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA;GAAA,OAAA,KAAA,YAAA;;AACA,8DAAA,9DAACC;;AACD,qFAAA,2CAAA,+EAAA,/MAACC,kDAAchB,mBAAIiB;;AACnB,AAACC,gEAAelB;;AAChB,AAACN,yBAAUM;;AACX,mHAAA,mFAAA,tMAACmB,gGAAiBnB;;AAClB,AAACoB,8FAA+BpB,mBAAI,4DAAA,2CAAA,sEAAA,wEAAA,2CAAA,sDAAA,mFAAA,zaAACqB,0JAAkCrB;;AAEvE,+FAAA,6HAAA,2CAAA,kFAAA,AAAA,zVAACsB,4EAAYtB,sGAAKuB;;AAClB,uHAAA,MAAA,2CAAA,+EAAA,hPAACC,6EAAWxB,mBAAIiB;;AAElB,GAAA,QAAAtD,gCAAAC,oCAAAC,2CAAA4D;AAAA;AAAA,AAAA,AAASC,mCAAkB,8CAAA,9CAAC1D;;AAE5B;;;uBAAA,vBAAM2D;AAAN,AAGE,IAAMC,QAAM,oBAAA,AAAAC,pBAACC,oCAAWJ;AAAxB,AACE,OAACK,yGAAQ,AAACC,mEAA4BJ","names":["js/com","js/com.app","js/com.app.client","js/com.app.client.stats-accumulator","com.app.client/stats-accumulator","taoensso.tufte/add-accumulating-handler!","com.app.client/fix-route","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","p__60579","map__60580","cljs.core/--destructure-map","cljs.core.get","*after-render*-orig-val__60581","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__60582","env","*after-render*-orig-val__60583","*after-render*-temp-val__60584","temp__5804__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","_","app","logged-in","com.fulcrologic.rad.authorization/verified-authorities","cljs.core/empty?","com.fulcrologic.rad.routing.route_to_BANG_","com.app.ui/LandingPage","com.fulcrologic.rad.routing.html5-history/restore-route!","com.app.client/setup-RAD","com.fulcrologic.rad.application/install-ui-controls!","com.fulcrologic.rad.rendering.semantic-ui.semantic-ui-controls/all-controls","com.fulcrologic.rad.report/install-formatter!","value","js/com.app.client.app","com.app.client/app","com.fulcrologic.rad.application/fulcro-rad-app","com.fulcrologic.fulcro.react.version18/with-react18","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads","com.fulcrologic.fulcro.algorithms.tx_processing.synchronous_tx_processing.with_synchronous_transactions","com.app.client/refresh","com.fulcrologic.fulcro.components.refresh_dynamic_queries_BANG_","com.fulcrologic.fulcro.application/force-root-render!","com.app.client/init","taoensso.timbre/merge-config!","com.fulcrologic.fulcro.algorithms.timbre-support/prefix-output-fn","com.fulcrologic.fulcro.algorithms.timbre-support/console-appender","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","com.fulcrologic.rad.type-support.date-time/set-timezone!","com.fulcrologic.fulcro.application/set-root!","com.app.ui/Root","com.fulcrologic.fulcro.routing.dynamic-routing/initialize!","com.fulcrologic.fulcro.routing.dynamic_routing.change_route_BANG_","com.fulcrologic.rad.routing.history.install_route_history_BANG_","com.fulcrologic.rad.routing.html5-history/new-html5-history","com.fulcrologic.rad.authorization.start_BANG_","com.app.ui.login-dialog/LoginForm","com.fulcrologic.fulcro.application.mount_BANG_","js/com.app.client.performance-stats","com.app.client/performance-stats","com.app.client/pperf","stats","cljs.core/deref","cljs.core/not-empty","cljs.core.println","taoensso.tufte.format_grouped_pstats"],"sourcesContent":["(ns com.app.client\n  (:require\n    [com.app.ui :as ui :refer [Root]]\n    [com.app.ui.login-dialog :refer [LoginForm]]\n    [com.fulcrologic.fulcro.algorithms.timbre-support :refer [console-appender prefix-output-fn]]\n    [com.fulcrologic.fulcro.algorithms.tx-processing.synchronous-tx-processing :as sync]\n    [com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing :as btxn]\n    [com.fulcrologic.fulcro.application :as app]\n    [com.fulcrologic.fulcro.components :as comp]\n    [com.fulcrologic.fulcro.mutations :as m]\n    [com.fulcrologic.fulcro.routing.dynamic-routing :as dr]\n    [com.fulcrologic.fulcro.react.version18 :refer [with-react18]]\n    [com.fulcrologic.rad.application :as rad-app]\n    [com.fulcrologic.rad.authorization :as auth]\n    [com.fulcrologic.rad.rendering.semantic-ui.semantic-ui-controls :as sui]\n    [com.fulcrologic.rad.report :as report]\n    [com.fulcrologic.rad.routing :as routing]\n    [com.fulcrologic.rad.routing.history :as history]\n    [com.fulcrologic.rad.routing.html5-history :as hist5 :refer [new-html5-history]]\n    [com.fulcrologic.rad.type-support.date-time :as datetime]\n    [taoensso.timbre :as log]\n    [taoensso.tufte :as tufte :refer [profile]]))\n\n(defonce stats-accumulator\n         (tufte/add-accumulating-handler! {:ns-pattern \"*\"}))\n\n(m/defmutation fix-route\n  [_]\n  (action [{:keys [app]}]\n          (let [logged-in (auth/verified-authorities app)]\n            (if (empty? logged-in)\n              (routing/route-to! app ui/LandingPage {})\n              (hist5/restore-route! app ui/LandingPage {})))))\n\n(defn setup-RAD [app]\n  (rad-app/install-ui-controls! app sui/all-controls)\n  (report/install-formatter! app :boolean :affirmation (fn [_ value] (if value \"yes\" \"no\"))))\n\n(defonce app (-> (rad-app/fulcro-rad-app {})\n                 (with-react18)\n                 (btxn/with-batched-reads)\n                 (sync/with-synchronous-transactions #{:remote})))\n\n(defn refresh []\n  (setup-RAD app)\n  (comp/refresh-dynamic-queries! app)\n  (app/force-root-render! app))\n\n(defn init []\n  (log/merge-config! {:output-fn prefix-output-fn\n                      :appenders {:console (console-appender)}})\n  (log/info \"Starting App\")\n  (datetime/set-timezone! \"America/Bogota\")\n  (app/set-root! app Root {:initialize-state? true})\n  (dr/initialize! app)\n  (setup-RAD app)\n  (dr/change-route! app [\"landing-page\"])\n  (history/install-route-history! app (new-html5-history {:app           app\n                                                          :default-route {:route [\"landing-page\"]}}))\n  (auth/start! app [LoginForm] {:after-session-check `fix-route})\n  (app/mount! app Root \"app\" {:initialize-state? false}))\n\n(defonce performance-stats (tufte/add-accumulating-handler! {}))\n\n(defn pperf\n  \"Dump the currently-collected performance stats\"\n  []\n  (let [stats (not-empty @performance-stats)]\n    (println (tufte/format-grouped-pstats stats))))\n"]}