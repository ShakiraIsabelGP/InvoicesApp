{"version":3,"sources":["com/app/ui/inventory.cljc"],"mappings":"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","names":["com.app.ui.inventory/categories","options__57920__auto__","get-class__57913__auto__","cljs.core.assoc","com.fulcrologic.rad.form/convert-options","com.fulcrologic.fulcro.components/wrapped-render","com.fulcrologic.fulcro.components/props","com.fulcrologic.rad.form/render-layout","js/com","js/com.app","js/com.app.ui","js/com.app.ui.inventory","js/com.app.ui.inventory.ItemForm","com.fulcrologic.fulcro.components/react-constructor","com.fulcrologic.fulcro.components/configure-component!","com.app.ui.inventory/ItemForm","this","props","com.app.model.item/id","com.app.model.item/item-name","com.app.model.item/category","com.app.model.item/description","com.app.model.item/in-stock","com.app.model.item/price","options__35388__auto__","this__59561__auto__","forms__59556__auto__","com.fulcrologic.rad.options-util/?fix-keys","id-attrs__59557__auto__","cljs.core.keep","p1__59555__59558__auto__","com.fulcrologic.fulcro.components/component-options","cljs.core/vals","cljs.core/vec","cljs.core.into","cljs.core.map","attr__59559__auto__","or__5045__auto__","cljs.core.conj","cljs.core/set","cljs.core.concat","props62042","k__59560__auto__","cljs.core.get","computed__59562__auto__","com.fulcrologic.fulcro.components/get-computed","com.fulcrologic.rad.report/render-row","com.app.ui.inventory/InventoryReport-Row","js/com.app.ui.inventory.InventoryReport-Row","com.fulcrologic.rad.report/default-compare-rows","com.fulcrologic.rad.report/render-layout","app__59551__auto__","route-params__59552__auto__","com.fulcrologic.rad.report/report-will-enter","params","G__62059","cljs.core.mapv","p1__59553__59554__auto__","cljs.core/select-keys","cljs.core.remove","com.fulcrologic.rad.control/control-map->controls","cljs.core/contains?","com.fulcrologic.fulcro.components.get_query","com.fulcrologic.rad.control/Control","js/com.app.ui.inventory.InventoryReport","com.app.ui.inventory/InventoryReport","p__62053","p__62054","map__62055","cljs.core/--destructure-map","map__62056","filter-name","name","nm","G__62057","clojure.string/lower-case","target","G__62058","clojure.string/trim","cljs.core/empty?","and__5043__auto__","clojure.string/includes?","_","com.fulcrologic.rad.form.create_BANG_","com.fulcrologic.rad.report.filter_rows_BANG_","p__62043","map__62044","p__62047","map__62048","id","row","com.fulcrologic.rad.form/delete!","p__62045","map__62046","p__62049","map__62050","com.fulcrologic.rad.form.edit_BANG_","p__62051","map__62052","label","com.fulcrologic.rad.control/set-parameter!"],"sourcesContent":["(ns com.app.ui.inventory\n  (:require\n    [com.app.model.item :as item]\n    [com.fulcrologic.rad.report :as report]\n    [com.fulcrologic.rad.report-options :as ro]\n    [com.fulcrologic.rad.picker-options :as picker-options]\n    [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n    [com.fulcrologic.rad.control :as control]\n    [com.fulcrologic.rad.form :as form]\n    [clojure.string :as str]\n    [com.fulcrologic.rad.form-options :as fo]\n    [taoensso.timbre :as log]))\n\n(def categories {:all-categories\n                 {:category/services \"Supplies & Services\"\n                  :category/tool     \"Tool\"\n                  :category/food     \"Food\"\n                  :category/item     \"Item\"\n                  :category/other    \"Other\"}})\n\n(form/defsc-form ItemForm [this props]\n                 {fo/id            item/id\n                  fo/attributes    [item/item-name\n                                    item/category\n                                    item/description\n                                    item/in-stock\n                                    item/price]\n                  fo/route-prefix  \"item\"\n                  fo/title         \"Edit Item\"})\n\n(report/defsc-report InventoryReport [this props]\n                     {ro/title               \"Inventory Report\"\n                      ro/source-attribute    :item/all-items\n                      ro/row-pk              item/id\n                      ro/columns             [item/item-name item/category item/price item/in-stock]\n                      ro/initial-sort-params {:sort-by          :item/name\n                                              :ascending?       false\n                                              :sortable-columns #{:item/name}}\n                      ro/row-visible?        (fn [{::keys [filter-name]} {:item/keys [name]}]\n                                               (let [nm     (some-> name (str/lower-case))\n                                                     target (some-> filter-name (str/trim) (str/lower-case))]\n                                                 (or\n                                                   (nil? target)\n                                                   (empty? target)\n                                                   (and nm (str/includes? nm target)))))\n\n                      ro/controls            {::new-item   {:type   :button\n                                                               :local? true\n                                                               :label  \"New Item\"\n                                                               :action (fn [this _] (form/create! this ItemForm))}\n                                              ::search!       {:type   :button\n                                                               :local? true\n                                                               :label  \"Filter\"\n                                                               :class  \"ui basic compact mini red button\"\n                                                               :action (fn [this _] (report/filter-rows! this))}\n                                              ::filter-name   {:type        :string\n                                                               :local?      true\n                                                               :placeholder \"Type a partial name and press enter.\"\n                                                               :onChange    (fn [this _] (report/filter-rows! this))}}\n\n\n                      ro/control-layout      {:action-buttons [::new-item]\n                                              :inputs         [[::filter-name ::search! :_]]}\n\n                      ro/row-actions         [{:label  \"Delete\"\n                                               :action (fn [this {:item/keys [id] :as row}] (form/delete! this :item/id id))}\n                                              {:label  \"Edit\"\n                                               :action (fn [this {:item/keys [id] :as row}] (form/edit! this ItemForm id))}]\n\n                      ro/form-links          {item/item-name ItemForm}\n\n                      ro/links               {:category/label (fn [this {:category/keys [label]}]\n                                                                (control/set-parameter! this ::category label)\n                                                                (report/filter-rows! this))}\n\n                      ro/run-on-mount?       true\n                      ro/route               \"item-inventory-report\"})\n"]}